{% extends 'base.html' %}

{% block title %}Contact Us - ASWATHAMA CLASSES{% endblock %}

{% block content %}
<section class="page-header">
    <h1>Contact Us</h1>
</section>

<section class="contact-section">
    <div class="container">
        <div class="contact-grid">
            <div class="contact-info">
                <h2>Get in Touch</h2>
                <div class="info-item">
                    <h4>Address</h4>
                    <p>{{ data.address }}</p>
                </div>
                <div class="info-item">
                    <h4>Phone</h4>
                    <p>{{ data.phone }}</p>
                </div>
                <div class="info-item">
                    <h4>Email</h4>
                    <p>{{ data.email }}</p>
                </div>
            </div>
            
            <div class="contact-form-container">
                <h2>Send us a Message</h2>
                <form id="contactForm" class="contact-form">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" rows="5" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Send Message</button>
                </form>
                <div id="formMessage" class="form-message"></div>
            </div>
        </div>
    </div>
</section>

<script>
document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const formData = {
        name: document.getElementById('name').value,
        phone: document.getElementById('phone').value,
        message: document.getElementById('message').value
    };
    try {
        const response = await fetch('/submit-contact', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(formData)
        });
        const result = await response.json();
        document.getElementById('formMessage').innerText = result.message;
        if (result.success) {
            document.getElementById('contactForm').reset();
        }
    } catch (error) {
        document.getElementById('formMessage').innerText = 'Error sending message. Please try again.';
    }
});
</script>
{% endblock %}