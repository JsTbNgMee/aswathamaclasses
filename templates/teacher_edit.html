{% extends 'base.html' %}
{% block title %}Edit Student - ASWATHAMA CLASSES{% endblock %}
{% block content %}
<section class="admin-section">
    <div class="container" style="max-width:800px;">
        <h1>Edit Student: {{ student.name }} ({{ student.id }})</h1>
        
        <form action="{{ url_for('teacher_edit_student', student_id=student.id) }}" method="POST" style="margin-top:40px; display:flex; flex-direction:column; gap:30px;">
            <div class="form-group">
                <h3>Basic Information</h3>
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:10px;">
                    <input type="text" name="name" value="{{ student.name }}" placeholder="Name" required style="padding:12px; border:1px solid #ddd;">
                    <input type="text" name="class" value="{{ student.class }}" placeholder="Class" required style="padding:12px; border:1px solid #ddd;">
                    <input type="email" name="email" value="{{ student.email }}" placeholder="Email" style="padding:12px; border:1px solid #ddd;">
                    <input type="text" name="phone" value="{{ student.phone }}" placeholder="Phone" style="padding:12px; border:1px solid #ddd;">
                </div>
            </div>

            <div class="form-group">
                <h3>Marks (0-100)</h3>
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:10px;">
                    {% for subject, score in student.marks.items() %}
                    <div style="display:flex; align-items:center; gap:10px;">
                        <label style="min-width:100px;">{{ subject }}</label>
                        <input type="number" name="mark_{{ subject }}" value="{{ score }}" min="0" max="100" style="padding:8px; border:1px solid #ddd; width:100%;">
                    </div>
                    {% endfor %}
                </div>
            </div>

            <div class="form-group">
                <h3>Attendance & Progress</h3>
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:10px;">
                    <div>
                        <label>Classes Attended</label>
                        <input type="number" name="attended" value="{{ student.attendance.attended }}" style="padding:12px; border:1px solid #ddd; width:100%;">
                    </div>
                    <div>
                        <label>Total Classes</label>
                        <input type="number" name="total_classes" value="{{ student.attendance.total_classes }}" style="padding:12px; border:1px solid #ddd; width:100%;">
                    </div>
                    <div>
                        <label>Completion %</label>
                        <input type="number" name="completion" value="{{ student.progress.completion }}" min="0" max="100" style="padding:12px; border:1px solid #ddd; width:100%;">
                    </div>
                    <div>
                        <label>Status</label>
                        <input type="text" name="status" value="{{ student.progress.status }}" style="padding:12px; border:1px solid #ddd; width:100%;">
                    </div>
                </div>
            </div>

            <div style="display:flex; gap:20px;">
                <button type="submit" class="btn btn-primary" style="flex:1;">Save Changes</button>
                <a href="{{ url_for('teacher_dashboard') }}" class="btn btn-outline" style="flex:1; text-align:center;">Cancel</a>
            </div>
        </form>
    </div>
</section>
{% endblock %}
